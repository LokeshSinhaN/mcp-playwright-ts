<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>MCP Playwright UI</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <div class="app-logo">MCP Playwright</div>
        <div class="app-header-meta">
          <div id="ws-status-dot" class="status-dot disconnected"></div>
          <span id="ws-status-text" class="ws-status-text">Connecting...</span>
        </div>
        
        <div class="model-selector-wrapper" style="margin-left: auto; margin-right: 1rem;">
          <select id="model-provider-select" class="model-select" style="padding: 4px 8px; border-radius: 4px; background: #333; color: #fff; border: 1px solid #555;">
            <option value="gemini">Google Gemini</option>
            <option value="openai">OpenAI GPT</option>
          </select>
        </div>

        <div class="app-header-actions">
          <span class="pill pill-muted">v1.1.0</span>
        </div>
      </header>

      <main class="app-main">
        <section class="panel panel-chat">
          <div class="panel-inner">
            <div class="section-header">
              <div class="section-icon">ðŸ’¬</div>
              <div>
                <div class="section-title">Execution Stream</div>
                <div class="section-subtitle">Playwright + Selenium code generation</div>
              </div>
            </div>

            <div class="prompt-card">
              <div class="prompt-label">Prompt</div>
              <div class="prompt-body">Type a URL or high-level command.</div>
            </div>

            <div id="chat-log" class="chat-log"></div>

            <form id="chat-form" class="chat-input">
              <div class="chat-input-wrapper">
                <textarea
                  id="prompt-input"
                  class="chat-textarea"
                  placeholder="https://example.com or 'click login button'"
                  rows="3"
                ></textarea>
                
                <input type="file" id="pdf-upload-input" accept=".pdf" style="display: none;" />
                
                <button type="button" id="upload-pdf-btn" class="chat-attach-btn" title="Upload PDF">
                  <span class="chat-attach-icon">ðŸ“Ž</span>
                </button>

                <button type="submit" class="chat-send-btn">
                  <span class="chat-send-icon">â†’</span>
                </button>
              </div>
              <div class="chat-hint">Enter to send, Shift+Enter for newline</div>
            </form>
          </div>
        </section>

        <section class="panel panel-preview">
          <div class="panel-inner">
            <div class="browser-toolbar">
              <div class="browser-controls">
                <div class="dot dot-red"></div>
                <div class="dot dot-amber"></div>
                <div class="dot dot-green"></div>
              </div>
              <div class="browser-url-bar">
                <span class="browser-lock">ðŸ”’</span>
                <input
                  class="browser-url-input"
                  placeholder="https://example.com"
                  type="text"
                />
              </div>
              <div class="browser-actions">
                <button id="take-screenshot-btn" class="toolbar-btn" title="Take screenshot">ðŸ“¸</button>
                <button id="generate-script-btn" class="toolbar-btn" title="Generate Selenium script">ðŸ“œ</button>
                <button id="close-session-btn" class="toolbar-btn toolbar-btn-danger" title="Reset session">
                  âœ•
                </button>
              </div>
            </div>
            <div class="browser-content">
              <div id="browser-placeholder" class="browser-placeholder">
                <div class="placeholder-title">Browser Preview</div>
                <div class="placeholder-text">
                  Navigate to a page to see live Playwright screenshots and extracted selectors.
                </div>
              </div>
              <img
                id="browser-screenshot"
                class="browser-screenshot"
                alt="Browser screenshot"
                hidden
              />
              <div
                id="selenium-code-container"
                class="code-preview-container"
                aria-label="Generated Selenium Python script"
                hidden
              >
                <div class="code-preview-header">
                  <span class="code-preview-title">Generated Selenium Python script</span>
                  <button id="copy-selenium-code-btn" class="toolbar-btn code-copy-btn" title="Copy script">
                    â§‰
                  </button>
                </div>
                <pre
                  id="selenium-code-output"
                  class="code-preview"
                ></pre>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script type="module" src="./main.ts"></script>
  </body>
</html>